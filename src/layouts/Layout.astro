---
import "../styles/global.css";
import LanguageSwitcher from "../components/LanguageSwitcher.astro";
import { getLangFromUrl, useTranslations } from "../i18n/ui";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
---

<!doctype html>
<html lang={lang}>
	<head>
		<meta charset="UTF-8" />
		<script defer data-domain="cpti.browserfly.app" src="https://psb.djyde.com/js/script.js"></script>
		<meta name="viewport" content="width=device-width" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<meta name="generator" content={Astro.generator} />
		<title>CPTI - {t("home.subtitle")}</title>
	</head>
	<body>
		<header class="py-4 px-8 lg:px-0 max-w-[960px] mx-auto">
			<div class="max-w-6xl mx-auto flex justify-between items-center">
				<a
					href={lang === "en" ? "/" : `/${lang}`}
					class="text-flexoki-base-700 hover:text-flexoki-base-900 font-medium"
				>
					CPTI
				</a>
				<div class="flex items-center gap-4">
					<a
						href={`${lang === "en" ? "" : `/${lang}`}/what-is-cpti`}
						class="text-flexoki-base-700 hover:text-flexoki-base-900 font-medium"
					>
						{t("nav.whatIs")}
					</a>
					<LanguageSwitcher />
				</div>
			</div>
		</header>
		<main class="">
			<slot />
		</main>
	</body>
</html>
